{"ast":null,"code":"import _slicedToArray from \"/Users/david.lozzi/git/dansDiet/web/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/david.lozzi/git/dansDiet/web/src/components/Login/Login.js\";\nimport React, { useState } from 'react';\nimport history from 'redux/history';\nimport { Avatar, makeStyles, Typography, TextField, Button, Grid, Chip, Paper } from '@material-ui/core';\nimport { LockOutlinedIcon } from '@material-ui/icons';\nimport CONFIG from 'config';\nimport { loginUser as loginUserUtil } from 'utils/loginUtil/loginUtil';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    maxWidth: 500,\n    textAlign: 'center',\n    marginTop: '100px'\n  },\n  image: {\n    backgroundImage: 'url(https://source.unsplash.com/random)',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center'\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nconst Login = () => {\n  const classes = useStyles();\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        loginEmail = _useState2[0],\n        setLoginEmail = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        loginPassword = _useState4[0],\n        setLoginPassword = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        notAllowed = _useState6[0],\n        setNotAllowed = _useState6[1];\n\n  const loginUser = async () => {\n    const resp = await loginUserUtil(loginEmail, loginPassword);\n\n    if (resp) {\n      setLoginEmail('');\n      setLoginPassword('');\n      history.push(CONFIG.UI_URL.LANDING);\n    } else {\n      console.error('NOT ALLOWED');\n      setNotAllowed('Invalid login');\n    }\n  };\n\n  const pressedEnter = event => {\n    if (event.keyCode === 13) {\n      loginUser();\n    }\n  };\n\n  const handleEmailChange = event => {\n    setNotAllowed('');\n    setLoginEmail(event.target.value);\n  };\n\n  const handlePasswordChange = event => {\n    setNotAllowed('');\n    setLoginPassword(event.target.value);\n  };\n\n  const handleCloseChip = () => {\n    setNotAllowed('');\n  };\n\n  return React.createElement(Grid, {\n    container: true,\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: false,\n    sm: 4,\n    md: 7,\n    className: classes.image,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 8,\n    md: 5,\n    component: Paper,\n    elevation: 6,\n    square: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    className: classes.avatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(LockOutlinedIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })), React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Sign in\"), notAllowed !== '' && React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(Chip, {\n    label: notAllowed,\n    onDelete: handleCloseChip,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  })), React.createElement(TextField, {\n    id: \"login-email\",\n    label: \"Email *\",\n    margin: \"normal\",\n    value: loginEmail,\n    onChange: handleEmailChange,\n    onKeyDown: pressedEnter,\n    fullWidth: true,\n    autoFocus: true,\n    autoComplete: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"login-password\",\n    label: \"Password *\",\n    margin: \"normal\",\n    type: \"password\",\n    autoComplete: \"current-password\",\n    value: loginPassword,\n    onChange: handlePasswordChange,\n    onKeyDown: pressedEnter,\n    fullWidth: true,\n    autoComplete: \"current-password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    onClick: loginUser,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Sign In\"))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/david.lozzi/git/dansDiet/web/src/components/Login/Login.js"],"names":["React","useState","history","Avatar","makeStyles","Typography","TextField","Button","Grid","Chip","Paper","LockOutlinedIcon","CONFIG","loginUser","loginUserUtil","useStyles","theme","root","width","maxWidth","textAlign","marginTop","image","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","backgroundColor","palette","secondary","main","form","submit","Login","classes","loginEmail","setLoginEmail","loginPassword","setLoginPassword","notAllowed","setNotAllowed","resp","push","UI_URL","LANDING","console","error","pressedEnter","event","keyCode","handleEmailChange","target","value","handlePasswordChange","handleCloseChip"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport history from 'redux/history';\nimport { Avatar, makeStyles, Typography, TextField, Button, Grid, Chip, Paper } from '@material-ui/core';\nimport { LockOutlinedIcon } from '@material-ui/icons';\n\nimport CONFIG from 'config';\nimport { loginUser as loginUserUtil } from 'utils/loginUtil/loginUtil';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    maxWidth: 500,\n    textAlign: 'center',\n    marginTop: '100px'\n  },\n  image: {\n    backgroundImage: 'url(https://source.unsplash.com/random)',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst Login = () => {\n  const classes = useStyles();\n  const [loginEmail, setLoginEmail] = useState('');\n  const [loginPassword, setLoginPassword] = useState('');\n  const [notAllowed, setNotAllowed] = useState('');\n\n  const loginUser = async () => {\n    const resp = await loginUserUtil(loginEmail, loginPassword);\n    if (resp) {\n      setLoginEmail('');\n      setLoginPassword('');\n      history.push(CONFIG.UI_URL.LANDING);\n    } else {\n      console.error('NOT ALLOWED');\n      setNotAllowed('Invalid login');\n    }\n  };\n\n  const pressedEnter = (event) => {\n    if (event.keyCode === 13) {\n      loginUser();\n    }\n  };\n\n  const handleEmailChange = (event) => {\n    setNotAllowed('');\n    setLoginEmail(event.target.value);\n  };\n\n  const handlePasswordChange = (event) => {\n    setNotAllowed('');\n    setLoginPassword(event.target.value);\n  };\n\n  const handleCloseChip = () => {\n    setNotAllowed('');\n  };\n\n  return (\n    <Grid container className={classes.root}>\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          {\n            notAllowed !== ''\n            && (\n              <Grid item xs={12}>\n                <Chip\n                  label={notAllowed}\n                  onDelete={handleCloseChip}\n                  color=\"secondary\"\n                />\n              </Grid>\n            )\n          }\n          <TextField\n            id=\"login-email\"\n            label=\"Email *\"\n            margin=\"normal\"\n            value={loginEmail}\n            onChange={handleEmailChange}\n            onKeyDown={pressedEnter}\n            fullWidth\n            autoFocus\n            autoComplete=\"email\"\n          />\n          <TextField\n            id=\"login-password\"\n            label=\"Password *\"\n            margin=\"normal\"\n            type=\"password\"\n            autoComplete=\"current-password\"\n            value={loginPassword}\n            onChange={handlePasswordChange}\n            onKeyDown={pressedEnter}\n            fullWidth\n            autoComplete=\"current-password\"\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={loginUser}\n            fullWidth\n          >\n            Sign In\n        </Button>\n        </div>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}